{
  "description" : "### Document name - AWS-CreateServiceNowIncident\n\n## What does this document do?\nThis document creates an incident in the ServiceNow incident table.\n\n## Input Parameters\n* ServiceNowInstanceUsername: (Required) The name of the user the incident will be created with.\n* ServiceNowInstancePassword: (Required) The name of an encrypted SSM Parameter containing the password for the ServiceNow user.\n* ServiceNowInstanceURL: (Required) The url of the ServiceNow instance.\n* ShortDescription: (Required) A brief description of the incident.\n* Description: (Required) A detailed explanation on the incident.\n* [Impact](https://docs.servicenow.com/bundle/helsinki-it-service-management/page/product/incident-management/reference/r_PrioritizationOfIncidents.html): (Optional) The effect an incident has on business:\n  * Valid Values: High | Medium | Low\n  * Default: Low\n* [Urgency](https://docs.servicenow.com/bundle/helsinki-it-service-management/page/product/incident-management/reference/r_PrioritizationOfIncidents.html): (Optional) The extent to which the incident's resolution can bear delay:\n  * Valid Values: High | Medium | Low\n  * Default: Low\n* [Category](https://docs.servicenow.com/bundle/newyork-it-service-management/page/product/incident-management/reference/r_CategorizingIncidents.html): (Optional) The category  of the incident.\n  * Valid Values: None | Inquiry/Help | Software | Hardware | Network | Database\n  * Default: None\n* [Subcategory](https://docs.servicenow.com/bundle/newyork-it-service-management/page/product/incident-management/reference/r_CategorizingIncidents.html): (Optional) The subcategory of the incident.\n  * Valid Values: None | Antivirus | Email | Internal Application | Operating System | CPU | Disk | Keyboard | Hardware | Memory | Monitor | Mouse | DHCP | DNS | IP Address | VPN | Wireless | DB2 | MS SQL Server | Oracle\n  * Default: None\n* AutomationAssumeRole: (Optional) The ARN of the role that allows Automation to perform the actions on your behalf.\n\n## Output parameters\n* Push_incident.incidentID: The created incident ID.\n",
  "schemaVersion" : "0.3",
  "assumeRole" : "{{AutomationAssumeRole}}",
  "parameters" : {
    "ServiceNowInstanceUsername" : {
      "type" : "String",
      "description" : "(Required) The name of the user the incident will be created with."
    },
    "ServiceNowInstancePassword" : {
      "type" : "String",
      "description" : "(Required) The name of an encrypted SSM Parameter containing the password for the ServiceNow user."
    },
    "ServiceNowInstanceURL" : {
      "type" : "String",
      "description" : "(Required) The url of the ServiceNow instance."
    },
    "ShortDescription" : {
      "type" : "String",
      "description" : "(Required) A brief description of the incident."
    },
    "Description" : {
      "type" : "String",
      "description" : "(Required) A detailed explanation on the incident."
    },
    "Impact" : {
      "type" : "String",
      "default" : "Low",
      "description" : "(Optional) The effect an incident has on business.",
      "allowedValues" : [ "Low", "Medium", "High" ]
    },
    "Urgency" : {
      "type" : "String",
      "default" : "Low",
      "description" : "(Optional) The extent to which the incident's resolution can bear delay.",
      "allowedValues" : [ "Low", "Medium", "High" ]
    },
    "Category" : {
      "type" : "String",
      "default" : "None",
      "description" : "(Optional) The category of the incident.",
      "allowedValues" : [ "None", "Inquiry / Help", "Software", "Hardware", "Network", "Database" ]
    },
    "Subcategory" : {
      "type" : "String",
      "default" : "None",
      "description" : "(Optional) The subcategory of the incident.",
      "allowedValues" : [ "None", "Antivirus", "Email", "Internal Application", "Operating System", "CPU", "Disk", "Keyboard", "Hardware", "Memory", "Monitor", "Mouse", "DHCP", "DNS", "IP Address", "VPN", "Wireless", "DB2", "MS SQL Server", "Oracle" ]
    },
    "AutomationAssumeRole" : {
      "type" : "String",
      "description" : "(Optional) The ARN of the role that allows Automation to perform the actions on your behalf.",
      "default" : ""
    }
  },
  "outputs" : [ "Push_incident.incidentID" ],
  "mainSteps" : [ {
    "name" : "Push_incident",
    "action" : "aws:executeScript",
    "outputs" : [ {
      "Name" : "incidentID",
      "Selector" : "$.Payload.id",
      "Type" : "String"
    } ],
    "inputs" : {
      "Runtime" : "python3.8",
      "InputPayload" : {
        "username" : "{{ ServiceNowInstanceUsername }}",
        "password" : "{{ ServiceNowInstancePassword }}",
        "url" : "{{ ServiceNowInstanceURL }}",
        "impact" : "{{ Impact }}",
        "urgency" : "{{ Urgency }}",
        "short_description" : "{{ ShortDescription }}",
        "description" : "{{ Description }}",
        "category" : "{{ Category }}",
        "subcategory" : "{{ Subcategory }}"
      },
      "Handler" : "function.script_handler",
      "Attachment" : "function.zip"
    }
  } ],
  "files" : {
    "function.zip" : {
      "checksums" : {
        "sha256" : "6f528ffab34b3f37c2deba99ecd5ab5f3d4b94583f4781ac3f4a95373cc41652"
      },
      "size" : 5809425
    }
  }
}	2022-06-22T19:08:48.832000+02:00	JSON	Automation	1	AWS-CreateServiceNowIncident	Active
ATTACHMENTSCONTENT	6f528ffab34b3f37c2deba99ecd5ab5f3d4b94583f4781ac3f4a95373cc41652	Sha256	function.zip	5809425	https://aws-ssm-document-attachments-us-east-1.s3.us-east-1.amazonaws.com/440/458218037161/Automation/AWS-CreateServiceNowIncident%21fdc6bb45-8e39-4106-82fa-b9b0cb35b2ab/6/function.zip?x-attachment-size=5809425&x-requester-accountId=341329434541&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMb%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJIMEYCIQCN4N71eka7dZbePcEvUcxRCPIWTyS7n1nyBZ1gvswgKAIhAMh8U3hA0Zn%2FJsnhbZnC0k9irX3LWK3SjXsMYixw83ZfKtIECC8QAxoMMTg3MzQwNzY5NDg1Igx7yUY7hdv5uBFHergqrwRI8D5VDrirMspxQOr7ZT5k0qhJk6uWzhiLj0BxMwaGHWoE12ifEwIVfgw7k%2B3wHnoN7XVQ59RqjLx2MS3uuBHUcTn%2BMLQA3h%2F%2BGefxN9MM1jsw6bno2tlqXc9PbdzCKpq6YwxdCxBcd9T0wpgRlqNZXPozdcPIUNQCH0AQ4AGqnMxaod9NVbv6vQY0vqC3XTpEe8NmVjsX3XdJB1VX7whja78LxJA0novVq75TiBRdncE%2BcAcIDCuf%2FdZH%2FcUl1vp5b%2B%2FcygWp%2F7jQDUvdILlXhFbVcgX2e%2Bw9bGEEPEx5Ff4mhrUubvijC6g1e7aXeZLicxWBdIeySMRNhNgOCAptChKkT3dWVooxskUA06TgA6YIuwoy6nSAyy9YYWKuM2YPucw7ug0eRtKb6m%2FiYJhiDZhqpDFD6HQZiG2PIK8PmCp%2FvMoiQH6kVIvgfRmLAmvXhEiyJkjxpjco9qymOB%2F1o0GfuwRY5CpMeMLaxGLXSf87GWdC0EKwz%2B5wfqIqY7qRojilih0gDIHPOa7vXTj%2B0wDHWvH1E%2BpDNk2x8dPuSnTqAb2R2f9gwTD4YH%2FxvtNuc3bJ%2BPJo4lUW6JiLSBE%2FD2mP%2BxgTgcmdeWCVoM6TPmvaLoob2DRrIF729sv83zoXBrxQ0deDtM1dTsXbxfT0L%2FkhBrEvl2dtJNiInZlnZoukUNGIKxIN5NM0VSOEys9qo6U5b1i2vlR3dTjg3oIu67w2fmsYuPF%2BleVGfV7yMI7FyZcGOqgBXHLlrAw%2BRkGJNoWXM%2FFO%2FWvbspq8WlY3IHUnej4BpH5%2FlRt1JyobNUc421eYbmMavOQX6a1bSH4Vle2sCterRk2SxzIrrYtmjvqeZ66COyDcnTQ4PQvZlb7HXEWkxhlN%2B14ouS9UB5UsEy3PXli21g7j5uaP%2FcEbXNanYrzSpSD4EgtiWjGd48ftKxfGSAwSRBXTUirkTIRCTOm8ygPENSzWm8mrvKwU&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20220809T151445Z&X-Amz-SignedHeaders=host&X-Amz-Expires=86399&X-Amz-Credential=ASIASXHTBJDGRAHOXRNX%2F20220809%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Signature=70944a8851549b42bd71987cf3fb2e864d64859f94c3cb0790c31b6eb767dfb0
